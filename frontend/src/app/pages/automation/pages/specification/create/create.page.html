<div class="create-specification">
  <div class="mx-4 form-wrapper">
    <form [formGroup]="createSpecificationForm">
      <div class="form-group">
        <h1 class="mt-3 text-center form-heading">Create Specification</h1>
        <div class="mx-2 row">
          <div class="col-md-6 col-sm-12">
            <div class="form-group Name">
              <label for="Name" class="form-label required">Name</label>
              <input
                id="Name"
                type="text"
                formControlName="Name"
                class="form-control highlight"
                [ngClass]="{
                  'is-invalid': isInValid(value('Name')),
                  'is-valid': isValid(value('Name'))
                }"
              />
              <small
                *ngIf="
                value('Name').touched &&
                value('Name').errors?.required
              "
                class="invalid-feedback"
                >{{ "Name is Mandatory." }}</small
              >
            </div>

            <div class="form-group Version">
              <label for="Version" class="form-label required">Version</label>
              <input
                type="text"
                id="Version"
                formControlName="Version"
                class="form-control highlight"
                [ngClass]="{
                  'is-invalid': isInValid(value('Version')),
                  'is-valid': isValid(value('Version'))
                }"
              />
              <small
                *ngIf="
                value('Version').touched &&
                value('Version').errors?.required
              "
                class="invalid-feedback"
                >{{ "Version is Mandatory." }}</small
              >
            </div>
          </div>
          <div class="col-md-6 col-sm-12">
            <div class="form-group Category">
              <label for="Category" class="form-label required">Category</label>
              <input
                type="text"
                id="Category"
                formControlName="Category"
                class="form-control highlight"
                [ngClass]="{
                  'is-invalid': isInValid(value('Category')),
                  'is-valid': isValid(value('Category'))
                }"
              />
              <small
                *ngIf="
                value('Category').touched &&
                value('Category').errors?.required
              "
                class="invalid-feedback"
                >{{ "Category is Mandatory." }}</small
              >
            </div>

            <div class="form-group Description">
              <label for="Description" class="form-label required"
                >Description</label
              >
              <input
                type="text"
                id="Description"
                formControlName="Description"
                class="form-control highlight"
                [ngClass]="{
                  'is-invalid': isInValid(value('Description')),
                  'is-valid': isValid(value('Description'))
                }"
              />
              <small
                *ngIf="
                value('Description').touched &&
                value('Version').errors?.required
              "
                class="invalid-feedback"
                >{{ "Description is Mandatory." }}</small
              >
            </div>
          </div>
        </div>

        <!-- Inputs -->
        <div class="flex flex-wrap form-group">
          <h3 class="md:w-1/2 sm:w-full form-heading">Inputs</h3>
          <div class="md:w-1/2 sm:w-full">
            <button
              type="button"
              (click)="AddSpecificationInput('', '', '', '')"
              class="btn btn-success pull-right"
              [disabled]="createSpecificationForm.invalid"
              [ngClass]="{
                'form-valid': !createSpecificationForm.invalid,
                'form-invalid': createSpecificationForm.invalid
              }"
            >
              Add new Input
            </button>
          </div>
        </div>

        <div formArrayName="Inputs" class="form-group">
          <div
            *ngFor="let itemrow of inputFormsArr.controls; let i = index"
            class="form-group"
            [formGroupName]="i"
          >
            <div class="flex flex-wrap -mx-1">
              <div class="p-1 md:w-3/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Name"
                  placeholder="Name of input..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-2/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Type"
                  placeholder="Type..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-2/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="DefaultValue"
                  placeholder="Default value..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-4/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Description"
                  placeholder="Description for input param..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 text-center md:w-1/12 sm:w-full">
                <i
                  type="button"
                  class="fa fa-remove"
                  (click)="DeleteSpecificationInput(i)"
                >
                </i>
              </div>
            </div>
          </div>
        </div>

        <!-- Outputs -->
        <div class="flex flex-wrap form-group">
          <h3 class="md:w-1/2 sm:w-full form-heading">Outputs</h3>
          <div class="md:w-1/2 sm:w-full">
            <button
              type="button"
              (click)="AddSpecificationOutput('', '', '')"
              class="btn btn-success pull-right"
              [disabled]="createSpecificationForm.invalid"
              [ngClass]="{
                'form-valid': !createSpecificationForm.invalid,
                'form-invalid': createSpecificationForm.invalid
              }"
            >
              Add new Output
            </button>
          </div>
        </div>

        <div formArrayName="Outputs" class="form-group">
          <div
            *ngFor="let itemrow of outputFormsArr.controls; let i = index"
            class="form-group"
            [formGroupName]="i"
          >
            <div class="flex flex-wrap -mx-1">
              <div class="p-1 md:w-3/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Name"
                  placeholder="Name of output..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-2/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Type"
                  placeholder="Type..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-6/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Description"
                  placeholder="Description for input param..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 text-center md:w-1/12 sm:w-full">
                <i
                  type="button"
                  class="fa fa-remove"
                  (click)="DeleteSpecificationOutput(i)"
                >
                </i>
              </div>
            </div>
          </div>
        </div>

        <!-- Errors -->
        <div class="flex flex-wrap form-group">
          <h3 class="md:w-1/2 sm:w-full form-heading">Errors</h3>
          <div class="md:w-1/2 sm:w-full">
            <button
              type="button"
              (click)="AddSpecificationError('', '', '')"
              class="btn btn-success pull-right"
              [disabled]="createSpecificationForm.invalid"
              [ngClass]="{
                'form-valid': !createSpecificationForm.invalid,
                'form-invalid': createSpecificationForm.invalid
              }"
            >
              Add new Error
            </button>
          </div>
        </div>

        <div formArrayName="Errors" class="form-group">
          <div
            *ngFor="let itemrow of errorFormsArr.controls; let i = index"
            class="form-group"
            [formGroupName]="i"
          >
            <div class="flex flex-wrap -mx-1">
              <div class="p-1 md:w-3/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Message"
                  placeholder="Error Message..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-2/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Code"
                  placeholder="Error Code..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-6/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Description"
                  placeholder="Error Description..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 text-center md:w-1/12 sm:w-full">
                <i
                  type="button"
                  class="fa fa-remove"
                  (click)="DeleteSpecificationError(i)"
                >
                </i>
              </div>
            </div>
          </div>
        </div>

        <!-- Dependencies -->
        <div class="flex flex-wrap form-group">
          <h3 class="md:w-1/2 sm:w-full form-heading">Dependency</h3>
          <div class="md:w-1/2 sm:w-full">
            <button
              type="button"
              (click)="AddSpecificationDependency('', '', '')"
              class="btn btn-success pull-right"
              [disabled]="createSpecificationForm.invalid"
              [ngClass]="{
                'form-valid': !createSpecificationForm.invalid,
                'form-invalid': createSpecificationForm.invalid
              }"
            >
              Add new Dependency
            </button>
          </div>
        </div>

        <div formArrayName="Dependencies" class="form-group">
          <div
            *ngFor="let itemrow of dependencyFormsArr.controls; let i = index"
            class="form-group"
            [formGroupName]="i"
          >
            <div class="flex flex-wrap -mx-1">
              <div class="p-1 md:w-3/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Name"
                  placeholder="Name of Dependency..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-2/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Type"
                  placeholder="Type..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-6/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Description"
                  placeholder="Description for input param..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 text-center md:w-1/12 sm:w-full">
                <i
                  type="button"
                  class="fa fa-remove"
                  (click)="DeleteSpecificationDependency(i)"
                >
                </i>
              </div>
            </div>
          </div>
        </div>

        <!-- Authors -->
        <div class="flex flex-wrap form-group">
          <h3 class="md:w-1/2 sm:w-full form-heading">Authors</h3>
          <div class="md:w-1/2 sm:w-full">
            <button
              type="button"
              (click)="AddSpecificationAuthor('', '', '')"
              class="btn btn-success pull-right"
              [disabled]="createSpecificationForm.invalid"
              [ngClass]="{
                'form-valid': !createSpecificationForm.invalid,
                'form-invalid': createSpecificationForm.invalid
              }"
            >
              Add new Author
            </button>
          </div>
        </div>

        <div formArrayName="Authors" class="form-group">
          <div
            *ngFor="let itemrow of authorFormsArr.controls; let i = index"
            class="form-group"
            [formGroupName]="i"
          >
            <div class="flex flex-wrap -mx-1">
              <div class="p-1 md:w-3/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Name"
                  placeholder="Name of author..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-2/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Email"
                  placeholder="Email Id..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 md:w-6/12 sm:w-full">
                <textarea
                  rows="1"
                  formControlName="Contact"
                  placeholder="Contact number..."
                  class="form-control extended-control highlight"
                ></textarea>
              </div>
              <div class="p-1 text-center md:w-1/12 sm:w-full">
                <i
                  type="button"
                  class="fa fa-remove"
                  (click)="DeleteSpecificationAuthor(i)"
                >
                </i>
              </div>
            </div>
          </div>
        </div>

        <button
          (click)="CreateSpecification()"
          type="submit"
          class="btn"
          [disabled]="createSpecificationForm.invalid"
          [ngClass]="{
            'form-valid': !createSpecificationForm.invalid,
            'form-invalid': createSpecificationForm.invalid
          }"
        >
          Create
        </button>
      </div>
    </form>
  </div>
</div>
