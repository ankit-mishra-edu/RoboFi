<div class="flex flex-col m-4 view-all-specifications">
  <div class="m-2 create-specification-button right">
    <button
      [routerLink]="['../', specificationPath.create]"
      class="inline-flex items-center px-4 py-2 font-semibold text-green-700 border-2 border-green-500 rounded  hover:bg-green-500 hover:text-white hover:border-transparent"
    >
      <i class="px-1 bi bi-plus-lg" aria-hidden="true"></i>
      <span>Create Specification</span>
    </button>
  </div>
  <ng-container
    *ngIf="allSpecifications$ | async; else specificationDataNotFetched"
  >
    <ng-container
      *ngIf="allSpecifications$ | filterAutomationSpecification | async as filteredSpecifications; else filteredSpecificationsDataNotAvailable"
    >
      <div class="flex flex-wrap">
        <div
          *ngFor="let specification of filteredSpecifications"
          class="w-full max-w-sm m-2 specification md:w-1/3 lg:flex"
        >
          <div
            class="flex flex-col justify-around h-24 text-center bg-green-300 bg-cover rounded-t  lg:h-48 lg:rounded-t-none lg:rounded-l lg:w-1/3"
          >
            <i
              aria-hidden="true"
              class="text-2xl cursor-pointer bi bi-eye-fill primary"
              [routerLink]="['../', specificationPath.viewOrEdit, specification.id, 'view']"
            ></i>
            <i
              aria-hidden="true"
              class="text-2xl cursor-pointer bi bi-pencil-square secondary"
              [routerLink]="['../', specificationPath.viewOrEdit, specification.id, 'edit']"
            ></i>
            <i
              aria-hidden="true"
              class="text-2xl cursor-pointer bi bi-archive-fill danger"
              (click)="DeleteSpecification(specification)"
            ></i>
          </div>

          <div
            class="flex flex-col justify-between w-full h-48 p-2 leading-normal bg-white border-b border-l border-r border-gray-400  lg:w-2/3 lg:border-l-0 lg:border-t lg:border-gray-400"
          >
            <div class="mb-4">
              <div
                class="mx-1 mb-2 text-xl font-bold text-center text-gray-900 bg-gray-200  rounded-3xl"
              >
                {{specification.Name}}
              </div>
              <p class="h-20 overflow-y-auto text-base text-gray-700">
                {{specification.Description}}
              </p>
            </div>
            <div class="flex items-center">
              <p class="pr-1 text-gray-900">- By</p>
              <p
                *ngFor="let author of specification.Authors"
                class="leading-none text-gray-900"
              >
                {{ " " + author.Name }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <ng-template #specificationDataNotFetched>
    <app-spinner [spinnerSize]="'1.5rem'"
      >{{ " Fetching Specification data from backend....." }}</app-spinner
    >
  </ng-template>

  <ng-template #filteredSpecificationsDataNotAvailable>
    <app-spinner [spinnerSize]="'1.5rem'"
      >{{ " Applying filter based on keyword....." }}</app-spinner
    >
  </ng-template>
</div>
